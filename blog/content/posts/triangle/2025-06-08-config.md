---
layout: post
title: Managing Configuration
date: 2025-06-08 20:47:05 +1:00
type: post
published: true
status: publish
categories:
  - triangle
tags:
  - config
meta:
redirect_from:
  - /s/tlogtbd
---

Before making the game available for playtesting, I wanted the player to be able
to configure the game to some degree.

As a starting point, my keyboard layout is `colemak`, and I doubt that the
controls I use would suit the majority of players.

I am putting off a UI based config management option down the road (did I
mention that I do not enjoy GUI work?). As such I've been pondering alternative
configuration options.

## Platform independence

Before I even get to that, the first problem I need to solve is a way to
determine the location for the config files independent of the platform.

Fortunately, [known-folders](https://github.com/ziglibs/known-folders) came to
the rescue and provided an easy to use framework that can be used to determine
the various relevant locations for multiple platforms.

<!-- more -->

## Locations

There three real locations of relevance for triangle

- The binary / package
- Config, technically, split into two
  - user (on in windows parlance, remote, and can be shared across computers)
  - system (in windows parlance, local, and is specific to that system)
- Save Data

## Config Files

With that sorted out, the next bit is to identify the relevant config files. I
expect that triangle will continue to use these, and will eventually just get a
UI config option as well.

### User Config

There are two main bits of user configuration

- Preference like controls
- System details like resolution

I am currently unsure when it'll support system config.

### Game Config

There are two bits of config that the game will store. One set of config is to
remember game choices the user has made.

### Remember Player Actions

For example, it will be useful to show the user details of changes to the game
since they last played. To do this, we need to track the last set of changes
that the user saw.

The game will show a notice on startup about its extremenly early access status,
and provide an option for the user to hide that in the future. We need to save
that somewhere too.

### Telemetry

The second bit of config is metrics. While a lot of games will simply send
telemetry information directly to the developer, player privacy is really
important to me. I recognise that I will get far less data because of this, and
also that there will be a bit of survivorship bias with the data - but I feel
that privacy is more important.

The way I want telemetry to work is that it will all be saved in a human
readable telemetry file in the config file location.

The location will also store logs (if enabled).

## Setting Config
