---
layout: post
title: 'Drupal 7 + Services: Paging &amp; Filtering the index endpoint'
date: 2017-09-03 12:20:54.000000000 +01:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- drupal
tags:
- drupal-7
- drupal-services
meta:
  _edit_last: '48492462'
  geo_public: '0'
  _publicize_job_id: '8909860171'
  _elasticsearch_data_sharing_indexed_on: '2024-11-18 14:55:01'
permalink: "/2017/09/03/drupal-7-services-paging-filtering-the-index-endpoint/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<html><body></p>
<p>There are a lot of ways to manipulate the data returned by the index endpoint. In this post, we are going to consider the node index endpoint. By default, this endpoint returns all nodes sorted in descending order of last update with 20 items per page.</p>
<p>You access the node index endpoint by going to</p>
<p>[code]http://&lt;domain&gt;/&lt;endpoint-path/node.json (or the alias given to node in the resources section)[/code]</p>
<p>You can replace .json with with other extensions to get the same data in different formats</p>
<p>To access the second page, you can use the page parameter</p>
<p>[code]</p>
<p>node.json?page=2</p>
<p>node.json?page=5</p>
<p>[/code]</p>
<pre>To change the number of items on each page, you need the "<em>perform unlimited index"</em> queries permission. You use the pagesize parameter to change it</pre>
<p>[code]<br />
node.json?pagesize=100<br />
node.json?pagesize=50<br />
[/code]</p>
<p>To filter a field, you can use the parameters[property] where 'property' is the field on which you want to filter. It needs to be a field on the node table, and not a drupal field as it does not do the joins to pull in field data.</p>
<p>[code]</p>
<p>node.json?parameters[type]=blog_post</p>
<p>node.json?parameters[type]=article</p>
<p>[/code]</p>
<p>To apply a different filter than of equality, you can use options[parameters_op][property] where property is the same as above.</p>
<p>[code]</p>
<p>node.json?parameters[created]=1431065220&amp;options[parameters_op][created]=&lt;</p>
<p>node.json?parameters[changed]=1431065220&amp;options[parameters_op][changed]=&gt;</p>
<p>[/code]</p>
<p>To return fewer fields, you can use fields and comma separate the properties. Once again, you can only specify properties on the entity (i.e fields on the base table)</p>
<p>[code]</p>
<p>node.json?fields=nid,changed</p>
<p>node.json?fields=nid,created,title</p>
<p>[/code]</p>
<p>you can sort the results by using options[orderby][property]=&lt;asc|desc&gt;</p>
<p>[code]</p>
<p>node.json?options[orderby][nid]=asc</p>
<p>node.json?options[orderby][created]=desc</p>
<p>[/code]</p>
<p>You can also mix and match these separate options</p>
<p>[code]</p>
<p>node.json?page=10&amp;pagesize=100&amp;parameters[type]=blog_post&amp;options[parameters_op][type]=!=&amp;fields=nid,changed</p>
<p>[/code]<br />
</body></html></p>
